{   
    "recordEditor": {
        ".csc-location-tenantID": "${fields.tenantID}",
        ".csc-location-createdAt": "${fields.createdAt}",
        ".csc-location-updatedAt": "${fields.updatedAt}",
        ".csc-location-displayName": "${fields.displayName}",
        ".csc-location-name": "${fields.name}",
        ".csc-location-accessNote": "${fields.accessNote}",
        ".csc-location-address": "${fields.address}",
        ".csc-location-shortIdentifier": "${fields.shortIdentifier}",
        ".csc-location-conditionGroup": {
            "decorators": [
                {
                    "func": "cspace.makeRepeatable",
                    "type": "fluid",
                    "options": {
                        "elPath": "fields.conditionGroup",
                        "protoTree": {
                            "expander": {
                                "tree": {
                                    "expander": {
                                        "repeatID": "repeat:",
                                        "tree": {
                                            ".csc-location-conditionNote": "${{row}.conditionNote}",
                                            ".csc-location-conditionNoteDate-container": {
                                                "decorators": [
                                                    {
                                                        "func": "cspace.datePicker",
                                                        "type": "fluid"
                                                    }
                                                ]
                                            },
                                            ".csc-location-conditionNoteDate": "${{row}.conditionNoteDate}"
                                        },
                                        "type": "fluid.renderer.repeat",
                                        "pathAs": "row",
                                        "controlledBy": "fields.conditionGroup"
                                    }
                                },
                                "type": "fluid.noexpand"
                            }
                        }
                    }
                }
            ]
        },
        ".csc-location-securityNote": "${fields.securityNote}",
        ".csc-location-type": {
            "optionnames": [
                "Please select a value",
                "Shelf",
                "Drawer",
                "Tray",
                "Unit",
                "Room",
                "Building"
            ],
            "optionlist": [
                "",
                "shelf",
                "drawer",
                "tray",
                "unit",
                "room",
                "building"
            ],
            "selection": "${fields.type}"
        },
        ".csc-location-termStatus": {
            "optionnames": [
                "Please select a value",
                "Provisional",
                "Under Review",
                "Accepted",
                "Rejected"
            ],
            "optionlist": [
                "",
                "provisional",
                "under review",
                "accepted",
                "rejected"
            ],
            "selection": "${fields.termStatus}"
        }
    },
    "hierarchy": {
        ".csc-location-broaderContext-label": {
            "messagekey": "location-broaderContextLabel"
        },
        ".csc-location-broaderContext": {
            "decorators": [
                {
                    "func": "cspace.autocomplete",
                    "type": "fluid",
                    "options": {
                        "queryUrl": "../../chain/location/autocomplete/broaderContext",
                        "vocabUrl": "../../chain/location/source-vocab/broaderContext"
                    }
                }
            ],
            "value": "${fields.broaderContext}"
        },
        "expander": [{
            "type": "fluid.renderer.condition",
            "condition": {
                "funcName": "cspace.hierarchy.assertEquivalentContexts",
                "args": {
                    "equivalentContexts": "${fields.equivalentContexts}"
                }
            },
            "trueTree": {
                ".csc-location-equivalentContext-label": {
                    "messagekey": "location-equivalentContextLabel"
                }
            },
            "falseTree": {
                ".csc-location-equivalentContext-label": {
                    "decorators": {
                        "type": "addClass",
                        "classes": "hidden"
                    }
                }
            }
        }, {
            "repeatID": ".csc-location-equivalentContext:",
            "tree": {
                "value": "${{row}.equivalentContext}",
                "decorators": {
                    "type": "addClass",
                    "classes": "cs-hierarchy-equivalentContext"
                }
            },
            "type": "fluid.renderer.repeat",
            "pathAs": "row",
            "controlledBy": "fields.equivalentContexts"
        }],
        ".csc-location-narrowerContext-label": {
            "messagekey": "location-narrowerContextLabel"
        },
        ".csc-location-narrowerContext": {
            "decorators": [
                {
                    "func": "cspace.makeRepeatable",
                    "type": "fluid",
                    "options": {
                        "elPath": "fields.narrowerContexts",
                        "protoTree": {
                            "expander": {
                                "tree": {
                                    "expander": {
                                        "repeatID": "repeat:",
                                        "tree": {
                                            ".csc-location-narrowerContext": {
                                                "decorators": [
                                                    {
                                                        "func": "cspace.autocomplete",
                                                        "type": "fluid",
                                                        "options": {
                                                            "strings": {
                                                                "narrowerChange": "Warning: %narrower currently has broader term %broader. Change broader term?"
                                                            },
                                                            "invokers": {
                                                                "selectMatch": {
                                                                    "funcName": "cspace.autocomplete.selectMatchConfirm"
                                                                }
                                                            },
                                                            "queryUrl": "../../chain/location/autocomplete/narrowerContext",
                                                            "vocabUrl": "../../chain/location/source-vocab/narrowerContext"
                                                        }
                                                    }
                                                ],
                                                "value": "${{row}.narrowerContext}"
                                            }
                                        },
                                        "type": "fluid.renderer.repeat",
                                        "pathAs": "row",
                                        "controlledBy": "fields.narrowerContexts"
                                    }
                                },
                                "type": "fluid.noexpand"
                            }
                        }
                    }
                }
            ]
        },
        ".csc-location-relatedTerm-label": {
            "messagekey": "location-relatedTermLabel"
        },
        ".csc-location-relatedTerm": {
            "decorators": [
                {
                    "func": "cspace.makeRepeatable",
                    "type": "fluid",
                    "options": {
                        "elPath": "fields.relatedTerms",
                        "protoTree": {
                            "expander": {
                                "tree": {
                                    "expander": {
                                        "repeatID": "repeat:",
                                        "tree": {
                                            ".csc-location-relatedTerm": {
                                                "decorators": [
                                                    {
                                                        "func": "cspace.autocomplete",
                                                        "type": "fluid",
                                                        "options": {
                                                            "queryUrl": "../../chain/location/autocomplete/relatedTerm",
                                                            "vocabUrl": "../../chain/location/source-vocab/relatedTerm"
                                                        }
                                                    }
                                                ],
                                                "value": "${{row}.relatedTerm}"
                                            }
                                        },
                                        "type": "fluid.renderer.repeat",
                                        "pathAs": "row",
                                        "controlledBy": "fields.relatedTerms"
                                    }
                                },
                                "type": "fluid.noexpand"
                            }
                        }
                    }
                }
            ]
        }
    }
}